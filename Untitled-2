<section class="content-header">
    <h1>
      Data Tables
      <small>advanced tables</small>
    </h1>
    <ol class="breadcrumb">
      <li><a href="#"><i class="fa fa-dashboard"></i> Keuangan Harian</a></li>
      <li><a href="#">Tables</a></li>
      <li class="active">Data tables</li>
    </ol>
  </section>

  <!-- Main content -->
  <section class="content">
        
        <div class="row">
            <div class="col-sm-12">
                <div class="box">
                    <!-- /.box-header -->
                    <div class="col-md-12">
                        <!-- Custom Tabs (Pulled to the right) -->
                        <div class="nav-tabs-custom">
                            <ul class="nav nav-tabs pull-right">
                                <li class="active"><a href="#tab_1-1" data-toggle="tab">Tab 1</a></li>
                                <li><a href="#tab_2-2" data-toggle="tab">Tab 2</a></li>
                                <li><a href="#tab_3-2" data-toggle="tab">Tab 3</a></li>
                                <li><a href="#tab_4-2" data-toggle="tab">Tab 4</a></li>
                                <li class="dropdown">
                                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                    Dropdown <span class="caret"></span>
                                    </a>
                                        <ul class="dropdown-menu">
                                            <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Action</a></li>
                                            <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Another action</a></li>
                                            <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Something else here</a></li>
                                            <li role="presentation" class="divider"></li>
                                            <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Separated link</a></li>
                                    </ul>
                                </li>
                                <li class="pull-left header"><i class="fa fa-th"></i> Custom Tabs</li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane active" id="tab_1-1">
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="box">
                                                <div class="box-header">
                                                    <h3 class="box-title">Data Table With Full Features</h3>
                                                </div>
                                                <!-- /.box-header -->
                                                <div class="box-body">
                                                    <table id="penghasilan" class="table table-bordered table-striped listUser display responsive no-wrap">
                                                        <thead>
                                                            <tr>
                                                                <th>No.</th>
                                                                <th>Tanggal Cair</th>
                                                                <th>Penghasilan</th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>

                                                        </tbody>
                                                    </table>
                                                </div>
                                                <!-- /.box-body -->
                                            </div>
                                            <!-- /.box -->
                                        </div>
                                        <!-- /.col -->
                                    </div>
                                </div>
                                <!-- /.tab-pane -->
                                <div class="tab-pane" id="tab_2-2">                                    
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="box">
                                                <div class="box-header">
                                                    <h3 class="box-title">RAB</h3>
                                                </div>
                                                <!-- /.box-header -->
                                                <div class="box-body">
                                                    <table id="rab" class="table table-bordered table-striped listUser display responsive no-wrap">
                                                        <thead>
                                                            <tr>
                                                                <th>No.</th>
                                                                <th>ID</th>
                                                                <th>Periode</th>
                                                                <th>Nama Barang</th>
                                                                <th>Akun ID</th>
                                                                <th>Jumlah Barang</th>
                                                                <th>Harga Satuan</th>
                                                                <th>Satuan Barang ID</th>
                                                                <th>Total Harga</th>
                                                                <th>Keterangan</th>
                                                                <th>Cabang Id</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>

                                                        </tbody>
                                                    </table>
                                                </div>
                                                <!-- /.box-body -->
                                            </div>
                                            <!-- /.box -->
                                        </div>
                                        <!-- /.col -->
                                    </div>                                  
                                </div>
                                <!-- /.tab-pane -->
                                <div class="tab-pane" id="tab_3-2">                                 
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="box">
                                                <div class="box-header">
                                                    <h3 class="box-title">Data Table With Full Features</h3>
                                                </div>
                                                <!-- /.box-header -->
                                                <div class="box-body">
                                                    <table id="pengeluaran" class="table table-bordered table-striped listUser display responsive no-wrap">
                                                        <thead>
                                                            <tr>
                                                                <th>No.</th>
                                                                <th>Hari</th>
                                                                <th>Pengeluaran</th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>

                                                        </tbody>
                                                    </table>
                                                </div>
                                                <!-- /.box-body -->
                                            </div>
                                            <!-- /.box -->
                                        </div>
                                        <!-- /.col -->
                                    </div>                          
                                </div>
                                <!-- /.tab-pane -->
                                <div class="tab-pane" id="tab_4-2">                                 
                                    <div class="row">
                                        <div class="col-xs-12">

                                            

                                            <div class="box">
                                                <div class="box-header">
                                                    <h3 class="box-title">Data Table With Full Features</h3>
                                                </div>
                                                <!-- /.box-header -->
                                                <div class="box-body">
                                                    <table id="pemasukan" class="table table-bordered table-striped listUser display responsive no-wrap">
                                                        <thead>
                                                            <tr>
                                                                <th>No.</th>
                                                                <th>Hari</th>
                                                                <th>Pemasukan</th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                    </table>
                                                </div>
                                                <!-- /.box-body -->
                                            </div>
                                            <!-- /.box -->
                                        </div>
                                        <!-- /.col -->
                                    </div>                          
                                </div>
                                <!-- /.tab-pane -->
                                


                            </div>
                            <!-- /.tab-content -->
                        </div>
                        <!-- nav-tabs-custom -->
                    </div>
                </div>
                <!-- /.box -->
            </div>
            <!-- /.col -->
        </div>
        <!-- /.row -->

  </section>
  <!-- /.content -->

<div class="modal fade" id="modal-default">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close close-modal" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">VIEW PENGELUARAN</h4>
            </div>
            <div class="modal-body">
                <div class="box-body">
                    <table class="table table-bordered table-striped listUser display responsive no-wrap">
                        <thead>
                            <tr>
                                <th class="kolom1">Akun ID</th>
                                <th class="kolom2">Nama Barang</th>
                                <th class="kolom3">JML Barang</th>
                                <th class="kolom4">Harga Satuan</th>
                                <th class="kolom5">Pelaku</th>
                                <th class="kolom6">Tanggal</th>
                                <th class="kolom7">Total Harga</th>
                                <th class="kolom8">Keterangan</th>
                            </tr>
                        </thead>
                        <tbody id="data_keuharian">

                        </tbody>
                    </table>
                </div>
                <!-- /.box-body -->
            </div>
            <div class="modal-footer">
                <button id="btn-close" type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>


  <script>
  // PENGHASILAN
$(document).ready(function() {
    var dataTable = $('#penghasilan').DataTable({
        "processing": true,
        "serverSide": true,
        "ajax": {
            url: "Rekapharian/getAjaxPenghasilan",
            type: "post",
        }
    });
});

function show_data_penghasilan(tanggal_cair) {
    $('.modal-title').text('penghasilan  ' + tanggal_cair);
    $('.btnAction').attr('class',"btn btn-outline btnAction");
    $('.kolom1').text('Pemasukan dari');
    $('.kolom2').text('Nominal');
    $('.kolom3').text('Tanggal Cair');
    $('.kolom4').text('Keterangan');
    $('.kolom5, .kolom6, .kolom7, .kolom8').hide();
    $('#btn-close').on('click', function(){
                $('.kolom5, .kolom6, .kolom7, .kolom8').show();
            });
    
    $.ajax({
        method: "POST",
        dataType: "json",
        url: "{{url('Rekapharian/getViewPenghasilan')}}/" + tanggal_cair,
        data: $('form.addUser').serialize(),
        success: function(response) {
            var trHTML = '';
            $.each(response, function (i, item) {
                trHTML += '<tr><td>' + item.pemasukan_dari + '</td><td>' + 
                item.nominal + '</td><td>' + 
                item.tgl_perkiraan + '</td><td>' + 
                
                item.judul + '</td></tr>';
            });
            $('#data_keuharian').html(trHTML);
            // $('#btn-close').on('click', function(){
            //     $('#data_keuharian tr>td').remove();
            // });
        }
    });
}

// RAB
$(document).ready(function() {
    var dataTable = $('#rab').DataTable({
        "processing": true,
        "serverSide": true,
        "ajax": {
            url: "Rekapharian/getAjax",
            type: "post",
        }
    });
});

// PENGELUARAN
 $(document).ready(function() {
    var dataTable = $('#pengeluaran').DataTable({
        "processing": true,
        "serverSide": true,
        "ajax": {
            url: "Rekapharian/getAjaxPengeluaran",
            type: "post",
        }
    });
});

function show_data_pengeluaran(Hari) {
    $('.modal-title').text('Pengeluaran  ' + Hari);
    $('.btnAction').attr('class',"btn btn-outline btnAction");
    $('.kolom1').text('Akun ID');
    $('.kolom2').text('Nama Barang');
    $('.kolom3').text('Jumlah Barang');
    $('.kolom4').text('Harga Satuan');
    $('.kolom5').text('Pelaku');
    $('.kolom6').text('Tanggal');
    $('.kolom7').text('Total Harga');
    $('.kolom8').text('Keterangan');


    $.ajax({
        method: "POST",
        dataType: "json",
        url: "{{url('Rekapharian/getViewPengeluaran')}}/" + Hari,
        data: $('form.addUser').serialize(),
        success: function(response) {
            var trHTML = '';
            $.each(response, function (i, item) {
                trHTML += '<tr><td>' + item.akun_id + '</td><td>' + 
                item.nama_barang + '</td><td>' + 
                item.jml_barang + '</td><td>' + 
                item.harga_satuan + '</td> <td>' + 
                item.pelaku + '</td><td>' + 
                item.tanggal + '</td><td>' + 
                item.total_harga + '</td><td>' + 
                item.keterangan + '</td></tr>';
            });
            $('#data_keuharian').html(trHTML);
            // $('#btn-close').on('click', function(){
            //     $('#data_keuharian tr>td').remove();
            // });
            // var x;
            // $('#btn-close').click(function(){
            //     x = $('#data_keuharian tr>td').detach();
            // });
            // $('#btn-view').click(function(){
            //     x = $('#data_keuharian tr>td').prepend(x);
            // });
        }
    });
}

// PEMASUKAN
$(document).ready(function() {
    var dataTable = $('#pemasukan').DataTable({
        "processing": true,
        "serverSide": true,
        "ajax": {
            url: "Rekapharian/getAjaxPemasukan",
            type: "post",
        }
    });
});
function show_data_pemasukan(Hari) {
    $('.modal-title').text('Pemasukan  ' + Hari);
    $('.btnAction').attr('class',"btn btn-outline btnAction");
    $('.kolom1').text('ID');
    
    $('.kolom3').text('Pelaku');
    $('.kolom4').text('Pemasukan');
    $('.kolom2, .kolom5, .kolom6, .kolom7, .kolom8').hide();
    $('#btn-close').on('click', function(){
                $('.kolom2, .kolom5, .kolom6, .kolom7, .kolom8').show();
            });

    
    $.ajax({
        method: "POST",
        dataType: "json",
        url: "{{url('Rekapharian/getViewPemasukan')}}/" + Hari,
        data: $('form.addUser').serialize(),
        success: function(response) {
            var trHTML = '';
            $.each(response, function (i, item) {
                trHTML += '<tr><td>' + item.id + '</td><td>' + 
                    
                item.pelaku + '</td><td>' + 
                
                item.debit + '</td></tr>';
            });
            $('#data_keuharian').html(trHTML);
            // $('#btn-close').on('click', function(){
            //     $('#data_keuharian tr>td').remove();
            // });
        }
    });
}
  
  
  
  
  </script>